<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Introduction | Image-based Profiling Handbook</title>
  <meta name="description" content="This is a handbook for processing image-based profiling datasets using CellProfiler and pycytominer" />
  <meta name="generator" content="bookdown 0.23.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Introduction | Image-based Profiling Handbook" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a handbook for processing image-based profiling datasets using CellProfiler and pycytominer" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Introduction | Image-based Profiling Handbook" />
  
  <meta name="twitter:description" content="This is a handbook for processing image-based profiling datasets using CellProfiler and pycytominer" />
  

<meta name="author" content="Beth Cimini, Tim Becker, Shantanu Singh, Gregory Way, Hamdah Abbasi" />


<meta name="date" content="2021-08-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="configure-environment-for-full-profiling-pipeline.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Image-based Profiling Handbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#collect-your-software"><i class="fa fa-check"></i><b>1.1</b> Collect your software</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#collect-your-pipelines"><i class="fa fa-check"></i><b>1.2</b> Collect your pipelines</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#determine-how-to-get-your-image-lists-to-cellprofiler"><i class="fa fa-check"></i><b>1.3</b> Determine how to get your image lists to CellProfiler</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#execute-your-cellprofiler-pipelines"><i class="fa fa-check"></i><b>1.4</b> Execute your CellProfiler pipelines</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#optional-z-projection"><i class="fa fa-check"></i><b>1.4.1</b> (Optional) Z projection</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#optional-qc"><i class="fa fa-check"></i><b>1.4.2</b> (Optional) QC</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction.html"><a href="introduction.html#illumination-correction"><i class="fa fa-check"></i><b>1.4.3</b> Illumination correction</a></li>
<li class="chapter" data-level="1.4.4" data-path="introduction.html"><a href="introduction.html#optional-assay-development"><i class="fa fa-check"></i><b>1.4.4</b> (Optional) Assay Development</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#analysis"><i class="fa fa-check"></i><b>1.5</b> Analysis</a></li>
<li class="chapter" data-level="1.6" data-path="introduction.html"><a href="introduction.html#aggregate-your-data"><i class="fa fa-check"></i><b>1.6</b> Aggregate your data</a></li>
<li class="chapter" data-level="1.7" data-path="introduction.html"><a href="introduction.html#create-and-manipulate-per-well-profiles."><i class="fa fa-check"></i><b>1.7</b> Create and manipulate per-well profiles.</a></li>
</ul></li>
<li class="part"><span><b>I Configuration</b></span></li>
<li class="chapter" data-level="2" data-path="configure-environment-for-full-profiling-pipeline.html"><a href="configure-environment-for-full-profiling-pipeline.html"><i class="fa fa-check"></i><b>2</b> Configure Environment for Full Profiling Pipeline</a><ul>
<li class="chapter" data-level="2.1" data-path="configure-environment-for-full-profiling-pipeline.html"><a href="configure-environment-for-full-profiling-pipeline.html#launch-an-aws-virtual-machine-for-making-csvs-and-running-distributed-cellprofiler"><i class="fa fa-check"></i><b>2.1</b> Launch an AWS Virtual Machine for making CSVs and running Distributed-CellProfiler</a></li>
<li class="chapter" data-level="2.2" data-path="configure-environment-for-full-profiling-pipeline.html"><a href="configure-environment-for-full-profiling-pipeline.html#create-a-tmux-session"><i class="fa fa-check"></i><b>2.2</b> Create a tmux session</a></li>
<li class="chapter" data-level="2.3" data-path="configure-environment-for-full-profiling-pipeline.html"><a href="configure-environment-for-full-profiling-pipeline.html#define-environment-variables"><i class="fa fa-check"></i><b>2.3</b> Define Environment Variables</a></li>
<li class="chapter" data-level="2.4" data-path="configure-environment-for-full-profiling-pipeline.html"><a href="configure-environment-for-full-profiling-pipeline.html#create-directories"><i class="fa fa-check"></i><b>2.4</b> Create Directories</a></li>
<li class="chapter" data-level="2.5" data-path="configure-environment-for-full-profiling-pipeline.html"><a href="configure-environment-for-full-profiling-pipeline.html#download-software"><i class="fa fa-check"></i><b>2.5</b> Download Software</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="setup-images.html"><a href="setup-images.html"><i class="fa fa-check"></i><b>3</b> Setup Images</a><ul>
<li class="chapter" data-level="3.1" data-path="setup-images.html"><a href="setup-images.html#upload-images"><i class="fa fa-check"></i><b>3.1</b> Upload Images</a></li>
<li class="chapter" data-level="3.2" data-path="setup-images.html"><a href="setup-images.html#prepare-images"><i class="fa fa-check"></i><b>3.2</b> Prepare Images</a></li>
<li class="chapter" data-level="3.3" data-path="setup-images.html"><a href="setup-images.html#create-list-of-plates"><i class="fa fa-check"></i><b>3.3</b> Create List of Plates</a></li>
<li class="chapter" data-level="3.4" data-path="setup-images.html"><a href="setup-images.html#create-loaddata-csvs"><i class="fa fa-check"></i><b>3.4</b> Create LoadData CSVs</a></li>
<li class="chapter" data-level="3.5" data-path="setup-images.html"><a href="setup-images.html#upload-image-location-files-to-s3"><i class="fa fa-check"></i><b>3.5</b> Upload image location files to S3</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html"><i class="fa fa-check"></i><b>4</b> Run each CellProfiler step</a><ul>
<li class="chapter" data-level="4.1" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#upload-your-pipelines-to-s3"><i class="fa fa-check"></i><b>4.1</b> Upload your pipelines to S3</a></li>
<li class="chapter" data-level="4.2" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#configure-distributed-cellprofilers-run_batch_general-script"><i class="fa fa-check"></i><b>4.2</b> Configure Distributed-CellProfiler's <code>run_batch_general</code> script</a></li>
<li class="chapter" data-level="4.3" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#configure-distributed-cellprofilers-fleet-file"><i class="fa fa-check"></i><b>4.3</b> Configure Distributed-CellProfiler's fleet file</a></li>
<li class="chapter" data-level="4.4" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#change-required-parameters-in-distributed-cellprofilers-config-file"><i class="fa fa-check"></i><b>4.4</b> Change required parameters in Distributed-CellProfiler's config file</a></li>
<li class="chapter" data-level="4.5" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#run-each-cellprofiler-step-1"><i class="fa fa-check"></i><b>4.5</b> Run each CellProfiler step</a><ul>
<li class="chapter" data-level="4.5.1" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#optional-z-projection-1"><i class="fa fa-check"></i><b>4.5.1</b> (Optional) Z projection</a></li>
<li class="chapter" data-level="4.5.2" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#optional-qc-1"><i class="fa fa-check"></i><b>4.5.2</b> (Optional) QC</a></li>
<li class="chapter" data-level="4.5.3" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#illumination-correction-1"><i class="fa fa-check"></i><b>4.5.3</b> Illumination Correction</a></li>
<li class="chapter" data-level="4.5.4" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#optional-assay-dev"><i class="fa fa-check"></i><b>4.5.4</b> (Optional) Assay Dev</a></li>
<li class="chapter" data-level="4.5.5" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#analysis-1"><i class="fa fa-check"></i><b>4.5.5</b> Analysis</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="run-each-cellprofiler-step.html"><a href="run-each-cellprofiler-step.html#optional-do-any-post-cellprofiler-steps"><i class="fa fa-check"></i><b>4.6</b> (Optional) Do any post-CellProfiler steps</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="create-profiles.html"><a href="create-profiles.html"><i class="fa fa-check"></i><b>5</b> Create Profiles</a><ul>
<li class="chapter" data-level="5.1" data-path="create-profiles.html"><a href="create-profiles.html#confirm-environment-configuration"><i class="fa fa-check"></i><b>5.1</b> Confirm Environment Configuration</a></li>
<li class="chapter" data-level="5.2" data-path="create-profiles.html"><a href="create-profiles.html#add-a-large-ebs-volume-to-your-machine"><i class="fa fa-check"></i><b>5.2</b> Add a large EBS volume to your machine</a></li>
<li class="chapter" data-level="5.3" data-path="create-profiles.html"><a href="create-profiles.html#create-database-backend"><i class="fa fa-check"></i><b>5.3</b> Create Database Backend</a></li>
<li class="chapter" data-level="5.4" data-path="create-profiles.html"><a href="create-profiles.html#create-metadata-files"><i class="fa fa-check"></i><b>5.4</b> Create Metadata Files</a></li>
<li class="chapter" data-level="5.5" data-path="create-profiles.html"><a href="create-profiles.html#set-up-github"><i class="fa fa-check"></i><b>5.5</b> Set up GitHub</a></li>
<li class="chapter" data-level="5.6" data-path="create-profiles.html"><a href="create-profiles.html#make-profiles"><i class="fa fa-check"></i><b>5.6</b> Make Profiles</a><ul>
<li class="chapter" data-level="5.6.1" data-path="create-profiles.html"><a href="create-profiles.html#optional---set-up-compute-environment"><i class="fa fa-check"></i><b>5.6.1</b> Optional - set up compute environment</a></li>
<li class="chapter" data-level="5.6.2" data-path="create-profiles.html"><a href="create-profiles.html#set-new-environment-variables"><i class="fa fa-check"></i><b>5.6.2</b> Set new environment variables</a></li>
<li class="chapter" data-level="5.6.3" data-path="create-profiles.html"><a href="create-profiles.html#if-a-first-batch-in-this-compute-environment-make-some-directories"><i class="fa fa-check"></i><b>5.6.3</b> If a first batch in this compute environment, make some directories</a></li>
<li class="chapter" data-level="5.6.4" data-path="create-profiles.html"><a href="create-profiles.html#add-your-backend-files"><i class="fa fa-check"></i><b>5.6.4</b> Add your backend files</a></li>
<li class="chapter" data-level="5.6.5" data-path="create-profiles.html"><a href="create-profiles.html#if-a-first-batch-in-this-compute-environment-clone-your-repository"><i class="fa fa-check"></i><b>5.6.5</b> If a first batch in this compute environment, clone your repository</a></li>
<li class="chapter" data-level="5.6.6" data-path="create-profiles.html"><a href="create-profiles.html#if-a-first-batch-in-this-project-weld-the-recipe-into-the-repository"><i class="fa fa-check"></i><b>5.6.6</b> If a first batch in this project, weld the recipe into the repository</a></li>
<li class="chapter" data-level="5.6.7" data-path="create-profiles.html"><a href="create-profiles.html#if-a-first-batch-in-this-compute-environment-set-up-the-environment"><i class="fa fa-check"></i><b>5.6.7</b> If a first batch in this compute environment, set up the environment</a></li>
<li class="chapter" data-level="5.6.8" data-path="create-profiles.html"><a href="create-profiles.html#activate-the-environment"><i class="fa fa-check"></i><b>5.6.8</b> Activate the environment</a></li>
<li class="chapter" data-level="5.6.9" data-path="create-profiles.html"><a href="create-profiles.html#if-a-first-batch-in-this-project-create-the-necessary-directories"><i class="fa fa-check"></i><b>5.6.9</b> If a first batch in this project, create the necessary directories</a></li>
<li class="chapter" data-level="5.6.10" data-path="create-profiles.html"><a href="create-profiles.html#download-the-load_data_csvs"><i class="fa fa-check"></i><b>5.6.10</b> Download the load_data_CSVs</a></li>
<li class="chapter" data-level="5.6.11" data-path="create-profiles.html"><a href="create-profiles.html#download-the-metadata-files"><i class="fa fa-check"></i><b>5.6.11</b> Download the metadata files</a></li>
<li class="chapter" data-level="5.6.12" data-path="create-profiles.html"><a href="create-profiles.html#make-the-config-file"><i class="fa fa-check"></i><b>5.6.12</b> Make the config file</a></li>
<li class="chapter" data-level="5.6.13" data-path="create-profiles.html"><a href="create-profiles.html#set-up-the-profiles"><i class="fa fa-check"></i><b>5.6.13</b> Set up the profiles</a></li>
<li class="chapter" data-level="5.6.14" data-path="create-profiles.html"><a href="create-profiles.html#run-the-profiling-workflow"><i class="fa fa-check"></i><b>5.6.14</b> Run the profiling workflow</a></li>
<li class="chapter" data-level="5.6.15" data-path="create-profiles.html"><a href="create-profiles.html#push-resulting-files-back-up-to-github"><i class="fa fa-check"></i><b>5.6.15</b> Push resulting files back up to GitHub</a></li>
<li class="chapter" data-level="5.6.16" data-path="create-profiles.html"><a href="create-profiles.html#push-resulting-files-up-to-s3"><i class="fa fa-check"></i><b>5.6.16</b> Push resulting files up to S3</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-a.html"><a href="appendix-a.html"><i class="fa fa-check"></i><b>A</b> Appendix A</a><ul>
<li class="chapter" data-level="A.1" data-path="appendix-a.html"><a href="appendix-a.html#project-folder-structure-guidance"><i class="fa fa-check"></i><b>A.1</b> Project folder structure guidance</a></li>
<li class="chapter" data-level="A.2" data-path="appendix-a.html"><a href="appendix-a.html#directory-structure"><i class="fa fa-check"></i><b>A.2</b> Directory structure</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Image-based Profiling Handbook</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Introduction</h1>
<p>This handbook describes the process of running a Cell Painting experiment. While the code here will describe doing so in the context of running <a href="https://github.com/CellProfiler/Distributed-CellProfiler">Distributed-CellProfiler</a> on AWS on images generated by a PerkinElmer microscope, then collating the data with <a href="https://github.com/cytomining/cytominer-database">cytominer-database</a> and analyzing it with <a href="https://github.com/cytomining/pycytominer">pycytominer</a>, the basic procedure for running a Cell Painting experiment is the same no matter the microscope or the processing platform. Briefly, the steps for any and every platform are:</p>
<div id="collect-your-software" class="section level2">
<h2><span class="header-section-number">1.1</span> Collect your software</h2>
<p>For the specific use case here, this involves</p>
<ul>
<li><a href="https://github.com/CellProfiler/Distributed-CellProfiler">Distributed-CellProfiler</a></li>
<li><a href="https://github.com/broadinstitute/pe2loaddata">pe2loaddata</a></li>
<li><a href="https://github.com/cytomining/cytominer-database">cytominer-database</a></li>
<li><a href="https://github.com/cytomining/pycytominer">pycytominer</a></li>
</ul>
<p>along with their dependencies. Almost certainly, you will need a locally-to-your-images installed version of GUI CellProfiler that matches the version you want to run on your cluster - locally might mean on a local machine or a VM.</p>
</div>
<div id="collect-your-pipelines" class="section level2">
<h2><span class="header-section-number">1.2</span> Collect your pipelines</h2>
<p>You will minimally require these pipelines</p>
<ul>
<li><code>illum</code> (illumination correction)</li>
<li><code>analysis</code> (segmentation and feature extraction)</li>
</ul>
<p>But you may also want pipelines for</p>
<ul>
<li>Z projection</li>
<li>QC</li>
<li>assay development</li>
</ul>
</div>
<div id="determine-how-to-get-your-image-lists-to-cellprofiler" class="section level2">
<h2><span class="header-section-number">1.3</span> Determine how to get your image lists to CellProfiler</h2>
<p>CellProfiler needs to understand image sets, aka for each field-of-view that was captured how many channels were there, what would you like to name the channels were there, and what are the file names corresponding to each channel. If you are using a Phenix Opera or Operetta, you can use the <code>pe2loaddata</code> program to generate a CSV that contains a list of image sets in an automated fashion, which can be passed to CellProfiler in via the LoadData module. Otherwise, you have a couple of different options:</p>
<ol style="list-style-type: decimal">
<li>You can create a similar CSV using a script that you write yourself that handles the files from your microscope and makes a similar CSV. Minimally, you need a <code>FileName</code> and <code>PathName</code> column for each channel (ie <code>FileName_OrigDNA</code>), and Metadata columns for each piece of metadata CellProfiler needs (ie <code>Metadata_Plate</code>, <code>Metadata_Well</code>, and <code>Metadata_Site</code>)</li>
<li>You can use a local copy of the files CellProfiler will be running, configure the 4 input modules of CellProfiler to create your image sets, then export CSVs using CellProfiler's &quot;Export Image Set Listing&quot; option, and feed those into the pipelines to be run on your cluster.</li>
<li>Alter all of your pipelines to, rather than the LoadData CSV module, use the 4 input modules of CellProfiler and add, configure, and run each pipeline with the CreateBatchFiles module and use batch files in your cluster environment.</li>
</ol>
<p>These options are ordered in terms of most-scripting-proficiency-needed to least-scripting-proficiency-needed as well as least-CellProfiler-proficiency-needed to most-CellProfiler-proficiency-needed.</p>
</div>
<div id="execute-your-cellprofiler-pipelines" class="section level2">
<h2><span class="header-section-number">1.4</span> Execute your CellProfiler pipelines</h2>
<div id="optional-z-projection" class="section level3">
<h3><span class="header-section-number">1.4.1</span> (Optional) Z projection</h3>
<p>If your images were taken with multiple planes, you will need to Z-project them. All subsequent steps should be run on the projected images.</p>
</div>
<div id="optional-qc" class="section level3">
<h3><span class="header-section-number">1.4.2</span> (Optional) QC</h3>
<p>You may want to run a quality control pipeline to determine your imaging plate quality.<br />
You can choose to run this locally or on your cluster compute environment. You will need to evaluate the results of this pipeline somehow, in CellProfiler-Analyst, KNIME, SpotFire, etc. You may run illumination correction and assay development steps in the meantime, but should hold analysis steps until the results are evaluated.</p>
</div>
<div id="illumination-correction" class="section level3">
<h3><span class="header-section-number">1.4.3</span> Illumination correction</h3>
<p>You need to run a pipeline that is grouped by plate and creates an illumination correction function.<br />
Since it is grouped by plate, you don't need very many CPUs to run this, but it will take 6-24 hours depending on settings and image size.<br />
Assay development and analysis require this step to complete.</p>
</div>
<div id="optional-assay-development" class="section level3">
<h3><span class="header-section-number">1.4.4</span> (Optional) Assay Development</h3>
<p>If desired, you can run a pipeline that executes on one image per well and carries out your segmentation but not measurement steps and makes (an) image(s) that you can use to evaluate the quality of the segmentation (either individually or by stitching them together first). This is not required but allows you to ensure that your segmentation parameters look reasonable across the variety of phenotypes present in your data.<br />
If being run, the final step should be held until this step can be evaluated.</p>
</div>
</div>
<div id="analysis" class="section level2">
<h2><span class="header-section-number">1.5</span> Analysis</h2>
<p>This pipeline segments the cells and measures the whole images and cells, and creates output CSVs (or can dump to a MySQL host if configured).<br />
This is typically run on each image site in parallel and thus can be sped up by using a large number of CPUs.</p>
</div>
<div id="aggregate-your-data" class="section level2">
<h2><span class="header-section-number">1.6</span> Aggregate your data</h2>
<p>Since the analysis is run in parallel, unless using a MySQL host you will have a number of sets of CSVs that need to be turned into a single file per plate.<br />
This is currently done with the <code>cytominer-database</code> program.</p>
</div>
<div id="create-and-manipulate-per-well-profiles." class="section level2">
<h2><span class="header-section-number">1.7</span> Create and manipulate per-well profiles.</h2>
<p>The final step is to create per-well profiles, annotate them with metadata, and do steps such as plate normalization and feature selection.<br />
These are accomplished via a &quot;profiling recipe&quot; using <code>pycytominer</code>.</p>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="configure-environment-for-full-profiling-pipeline.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cytomining/profiling-handbook/edit/master/01-overview.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
